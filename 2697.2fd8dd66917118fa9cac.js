(self.webpackChunkSoriana=self.webpackChunkSoriana||[]).push([[2697],{2697:(o,n,e)=>{"use strict";e.r(n),e.d(n,{LoginPageModule:()=>J});var t=e(8583),i=e(665),r=e(8945),a=e(5496),c=e(4762),l=e(3018),s=e(9826);let g=(()=>{class o{constructor(){this.clients=[]}addUser(o,n,e,t,i,r,a,c,l){this.clients.push()}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275prov=l.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var p=e(2305),d=e(970);function u(o,n){if(1&o){const o=l.EpF();l.TgZ(0,"ion-row"),l.TgZ(1,"ion-col"),l.TgZ(2,"ion-item",10),l.TgZ(3,"ion-label",11),l._uU(4,"Correo Electr\xf3nico"),l.qZA(),l.TgZ(5,"ion-input",12),l.NdJ("ngModelChange",function(n){return l.CHM(o),l.oxw().email2=n}),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&o){const o=l.oxw();l.xp6(5),l.Q6J("ngModel",o.email2)}}function Z(o,n){if(1&o){const o=l.EpF();l.TgZ(0,"ion-row"),l.TgZ(1,"ion-col"),l.TgZ(2,"ion-item",10),l.TgZ(3,"ion-label",11),l._uU(4,"Contrase\xf1a"),l.qZA(),l.TgZ(5,"ion-input",13),l.NdJ("ngModelChange",function(n){return l.CHM(o),l.oxw().password2=n}),l.qZA(),l.qZA(),l.TgZ(6,"ion-label",14),l.NdJ("click",function(){return l.CHM(o),l.oxw().recuperacion()}),l._uU(7,"\xbfOlvidaste la contrase\xf1a?"),l.qZA(),l.qZA(),l.qZA()}if(2&o){const o=l.oxw();l.xp6(5),l.Q6J("ngModel",o.password2)}}function h(o,n){1&o&&(l.TgZ(0,"ion-row"),l._UZ(1,"ion-checkbox",15),l.TgZ(2,"ion-label",16),l._uU(3,"Recordar"),l.qZA(),l.qZA())}function f(o,n){if(1&o){const o=l.EpF();l.TgZ(0,"ion-row"),l.TgZ(1,"ion-button",17),l.NdJ("click",function(){l.CHM(o);const n=l.oxw();return n.onLogin(n.email2,n.password2)}),l._uU(2,"Iniciar Sesi\xf3n"),l.qZA(),l.qZA()}}function m(o,n){1&o&&(l.TgZ(0,"ion-text",18),l._uU(1,"* Campo Requerido"),l.qZA())}function w(o,n){if(1&o){const o=l.EpF();l.TgZ(0,"ion-row"),l.TgZ(1,"ion-col"),l.TgZ(2,"ion-item",19),l.TgZ(3,"ion-label",11),l._uU(4,"Nombre(s) *"),l.qZA(),l.TgZ(5,"ion-input",20),l.NdJ("ngModelChange",function(n){return l.CHM(o),l.oxw().name=n}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"ion-col"),l.TgZ(7,"ion-item",19),l.TgZ(8,"ion-label",11),l._uU(9,"Contrase\xf1a *"),l.qZA(),l.TgZ(10,"ion-input",21),l.NdJ("ngModelChange",function(n){return l.CHM(o),l.oxw().password=n}),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&o){const o=l.oxw();l.xp6(5),l.Q6J("ngModel",o.name),l.xp6(5),l.Q6J("ngModel",o.password)}}function x(o,n){if(1&o){const o=l.EpF();l.TgZ(0,"ion-row"),l.TgZ(1,"ion-col"),l.TgZ(2,"ion-item",19),l.TgZ(3,"ion-label",11),l._uU(4,"Apellido Paterno *"),l.qZA(),l.TgZ(5,"ion-input",22),l.NdJ("ngModelChange",function(n){return l.CHM(o),l.oxw().first_lastname=n}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"ion-col"),l.TgZ(7,"ion-item",19),l.TgZ(8,"ion-label",11),l._uU(9,"Confirmar contrase\xf1a *"),l.qZA(),l.TgZ(10,"ion-input",23),l.NdJ("ngModelChange",function(n){return l.CHM(o),l.oxw().password_conf=n}),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&o){const o=l.oxw();l.xp6(5),l.Q6J("ngModel",o.first_lastname),l.xp6(5),l.Q6J("ngModel",o.password_conf)}}function A(o,n){if(1&o){const o=l.EpF();l.TgZ(0,"ion-row"),l.TgZ(1,"ion-col"),l.TgZ(2,"ion-item",19),l.TgZ(3,"ion-label",11),l._uU(4,"Apellido Materno *"),l.qZA(),l.TgZ(5,"ion-input",24),l.NdJ("ngModelChange",function(n){return l.CHM(o),l.oxw().second_lastname=n}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"ion-col"),l.TgZ(7,"ion-item",19),l.TgZ(8,"ion-label",11),l._uU(9,"Tel\xe9fono *"),l.qZA(),l.TgZ(10,"ion-input",25),l.NdJ("ngModelChange",function(n){return l.CHM(o),l.oxw().phone=n}),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&o){const o=l.oxw();l.xp6(5),l.Q6J("ngModel",o.second_lastname),l.xp6(5),l.Q6J("ngModel",o.phone)}}function q(o,n){if(1&o){const o=l.EpF();l.TgZ(0,"ion-row"),l.TgZ(1,"ion-col"),l.TgZ(2,"ion-item",19),l.TgZ(3,"ion-label",11),l._uU(4,"Correo electr\xf3nico *"),l.qZA(),l.TgZ(5,"ion-input",26),l.NdJ("ngModelChange",function(n){return l.CHM(o),l.oxw().email=n}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"ion-col"),l.TgZ(7,"ion-item",19),l.TgZ(8,"ion-label",11),l._uU(9,"C\xf3digo Postal *"),l.qZA(),l.TgZ(10,"ion-input",27),l.NdJ("ngModelChange",function(n){return l.CHM(o),l.oxw().postal=n}),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&o){const o=l.oxw();l.xp6(5),l.Q6J("ngModel",o.email),l.xp6(5),l.Q6J("ngModel",o.postal)}}function M(o,n){if(1&o){const o=l.EpF();l.TgZ(0,"ion-row"),l.TgZ(1,"ion-col"),l.TgZ(2,"ion-item",19),l.TgZ(3,"ion-label",11),l._uU(4,"Confirmar correo electr\xf3nico *"),l.qZA(),l.TgZ(5,"ion-input",28),l.NdJ("ngModelChange",function(n){return l.CHM(o),l.oxw().email_conf=n}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"ion-col"),l.TgZ(7,"ion-checkbox",29),l.NdJ("ionChange",function(n){return l.CHM(o),l.oxw().isChecked(n)}),l.qZA(),l.TgZ(8,"ion-label",30),l._uU(9,"Acepto los t\xe9rminos y condiciones"),l.qZA(),l.qZA(),l.qZA()}if(2&o){const o=l.oxw();l.xp6(5),l.Q6J("ngModel",o.email_conf)}}function T(o,n){if(1&o){const o=l.EpF();l.TgZ(0,"ion-row"),l.TgZ(1,"ion-button",31),l.NdJ("click",function(){l.CHM(o);const n=l.oxw();return n.confirmaciones(n.email,n.password,n.password_conf,n.email_conf,n.phone,n.postal,n.name,n.first_lastname,n.second_lastname)}),l._uU(2," Crear cuenta "),l.qZA(),l.qZA()}}const C=[{path:"",component:(()=>{class o{constructor(o,n,e){this.route=o,this.authSvc=n,this.userService=e,this.show=!0,this.privacidad=!1,this.postalApprove=!1,this.phoneApprove=!1}ngOnInit(){}cuenta(){this.route.navigate(["cuenta"])}recuperacion(){this.route.navigate(["recuperacion"])}isChecked(o){o.detail.checked&&(this.privacidad=!0)}confirmaciones(o,n,e,t,i,r,a,c,l){let s;if(o&&n&&e&&t&&i&&r&&a&&c&&l?s=!0:window.alert("Falta uno o m\xe1s datos de llenar"),s){var g=isNaN(i),p=isNaN(r);1==g&&window.alert("El telefono debe contener solo numeros"),0==g&&(10!=i.length?window.alert("El telefono debe ser a diez digitos"):this.phoneApprove=!0),1==p&&window.alert("El codigo postal debe contener solo numeros"),0==p&&(5!=r.length?window.alert("El codigo postal debe contener 5 digitos"):this.postalApprove=!0),0==this.privacidad&&window.alert("Por favor acepte los terminos y condiciones"),n===e&&o===t&&1==this.privacidad&&1==this.postalApprove&&1==this.phoneApprove&&this.onRegister(o,n),n!==e&&window.alert("Las contrase\xf1as no son iguales"),o!==t&&window.alert("Las direcciones de correo no son iguales")}}onRegister(o,n){return(0,c.mG)(this,void 0,void 0,function*(){try{const e=yield this.authSvc.register(o,n);if(e){const o=this.authSvc.isEmailVerified(e);this.redirectUser(o)}else window.alert("Hay un error en el formato de sus datos")}catch(e){console.log("Error",e)}})}addUsers(o,n,e,t,i,r,a,c,l){this.userService.addUser(o,n,e,t,i,r,a,c,l)}onLogin(o,n){return(0,c.mG)(this,void 0,void 0,function*(){try{const e=yield this.authSvc.login(o,n);if(e){const o=this.authSvc.isEmailVerified(e);this.redirectUser(o),console.log("user: ",e)}else window.alert("Uno o m\xe1s datos son incorrectos")}catch(e){console.log("Error",e)}})}redirectUser(o){this.route.navigate(o?["cuenta"]:["verificacion"])}}return o.\u0275fac=function(n){return new(n||o)(l.Y36(a.F0),l.Y36(s.e),l.Y36(g))},o.\u0275cmp=l.Xpm({type:o,selectors:[["app-login"]],decls:28,vars:12,consts:[[3,"fullscreen"],[1,"header"],["color","rosa"],[1,"align"],["color","natural",1,"login-card"],[1,"row-style"],[1,"login",3,"click"],[1,"signin",3,"click"],[4,"ngIf"],["class","campo",4,"ngIf"],[1,"input"],["position","floating"],["type","email","required","true","name","email2",3,"ngModel","ngModelChange"],["required","true","type","password","name","password2",3,"ngModel","ngModelChange"],[1,"label-pwd",3,"click"],["color","pasto",1,"check"],[1,"recordar"],["color","pasto",1,"boton",3,"click"],[1,"campo"],[1,"input2"],["required","true","name","name",3,"ngModel","ngModelChange"],["type","password","name","password",3,"ngModel","ngModelChange"],["required","true","name","first_lastname",3,"ngModel","ngModelChange"],["type","password","required","true","name","password_conf",3,"ngModel","ngModelChange"],["required","true","name","second_lastname",3,"ngModel","ngModelChange"],["maxlength","10","type","tel","required","true","name","phone",3,"ngModel","ngModelChange"],["type","email","name","email",3,"ngModel","ngModelChange"],["maxlength","5","required","true","name","postal",3,"ngModel","ngModelChange"],["type","email","required","true","name","email_conf",3,"ngModel","ngModelChange"],["color","pasto",1,"label-check-terminos",3,"ionChange"],[1,"label-terminos"],["color","pasto",1,"create",3,"click"]],template:function(o,n){1&o&&(l._UZ(0,"app-toolbar2"),l.TgZ(1,"ion-content",0),l.TgZ(2,"h1",1),l.TgZ(3,"b",2),l._uU(4,"Mi cuenta"),l.qZA(),l.qZA(),l.TgZ(5,"div",3),l.TgZ(6,"ion-card",4),l.TgZ(7,"ion-row",5),l.TgZ(8,"ion-col"),l.TgZ(9,"ion-text"),l.TgZ(10,"h3",6),l.NdJ("click",function(){return n.show=!n.show}),l._uU(11,"Iniciar sesi\xf3n"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(12,"ion-col"),l.TgZ(13,"ion-text"),l.TgZ(14,"h3",7),l.NdJ("click",function(){return n.show=!n.show}),l._uU(15,"Registrarse"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(16,u,6,1,"ion-row",8),l.YNc(17,Z,8,1,"ion-row",8),l.YNc(18,h,4,0,"ion-row",8),l.YNc(19,f,3,0,"ion-row",8),l.YNc(20,m,2,0,"ion-text",9),l.YNc(21,w,11,2,"ion-row",8),l.YNc(22,x,11,2,"ion-row",8),l.YNc(23,A,11,2,"ion-row",8),l.YNc(24,q,11,2,"ion-row",8),l.YNc(25,M,10,1,"ion-row",8),l.YNc(26,T,3,0,"ion-row",8),l.qZA(),l.qZA(),l._UZ(27,"app-footer"),l.qZA()),2&o&&(l.xp6(1),l.Q6J("fullscreen",!0),l.xp6(15),l.Q6J("ngIf",n.show),l.xp6(1),l.Q6J("ngIf",n.show),l.xp6(1),l.Q6J("ngIf",n.show),l.xp6(1),l.Q6J("ngIf",n.show),l.xp6(1),l.Q6J("ngIf",!n.show),l.xp6(1),l.Q6J("ngIf",!n.show),l.xp6(1),l.Q6J("ngIf",!n.show),l.xp6(1),l.Q6J("ngIf",!n.show),l.xp6(1),l.Q6J("ngIf",!n.show),l.xp6(1),l.Q6J("ngIf",!n.show),l.xp6(1),l.Q6J("ngIf",!n.show))},directives:[p.f,r.W2,r.PM,r.Nd,r.wI,r.yW,t.O5,d.c,r.Ie,r.Q$,r.pK,r.j9,i.Q7,i.JJ,i.On,r.nz,r.w,r.YG,i.nD],styles:[".login-card[_ngcontent-%COMP%]{width:900px;height:600px;margin-bottom:30px}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.align[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.row-style[_ngcontent-%COMP%]{height:50px}.label-pwd[_ngcontent-%COMP%]{margin-left:480px;color:darkred;cursor:pointer;text-decoration:blink}.check[_ngcontent-%COMP%]{margin-right:5px;margin-left:270px}.recordar[_ngcontent-%COMP%]{margin-left:5px;margin-right:100px}.ion-color-pasto[_ngcontent-%COMP%]{--ion-color-base:var(--ion-color-pasto);--ion-color-base-rgb:var(--ion-color-pasto-rgb);--ion-color-contrast:var(--ion-color-pasto-contrast);--ion-color-contrast-rgb:var(--ion-color-pasto-contrast-rgb);--ion-color-shade:var(--ion-color-pasto-shade);--ion-color-tint:var(--ion-color-pasto-tint)}.login[_ngcontent-%COMP%]{margin-left:300px;margin-top:25px;cursor:pointer;text-decoration:blink}.input[_ngcontent-%COMP%]{margin-top:40px;margin-left:250px;margin-bottom:10px;width:400px}.input2[_ngcontent-%COMP%]{margin-top:10px;width:350px;margin-left:40px}.boton[_ngcontent-%COMP%]{width:300px;margin-left:310px;margin-top:40px;height:40px}.signin[_ngcontent-%COMP%]{margin-left:30px;margin-top:25px;cursor:pointer;text-decoration:blink}.campo[_ngcontent-%COMP%]{margin-left:50px;margin-top:30px}.label-terminos[_ngcontent-%COMP%]{margin-top:40px;margin-left:10px}.create[_ngcontent-%COMP%]{margin-left:300px;margin-top:40px;width:300px;height:40px}.font-red[_ngcontent-%COMP%]{color:#b11a0e}.label-check-terminos[_ngcontent-%COMP%]{margin-top:30px;margin-left:40px}.ion-color-natural[_ngcontent-%COMP%]{--ion-color-base:var(--ion-color-natural);--ion-color-base-rgb:var(--ion-color-natural-rgb);--ion-color-contrast:var(--ion-color-natural-contrast);--ion-color-contrast-rgb:var(--ion-color-natural-contrast-rgb);--ion-color-shade:var(--ion-color-natural-shade);--ion-color-tint:var(--ion-color-natural-tint)}"]}),o})()}];let _=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=l.oAB({type:o}),o.\u0275inj=l.cJS({imports:[[a.Bz.forChild(C)],a.Bz]}),o})();var b=e(6606),v=e(6444);let J=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=l.oAB({type:o}),o.\u0275inj=l.cJS({imports:[[t.ez,i.u5,r.Pc,_,b.Y,v._]]}),o})()}}]);